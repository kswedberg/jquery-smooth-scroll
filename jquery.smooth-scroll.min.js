/*!
 * jQuery Smooth Scroll Plugin v1.4.4
 *
 * Date: Mon Feb 20 09:04:54 2012 EST
 * Requires: jQuery v1.3+
 *
 * Copyright 2010, Karl Swedberg
 * Dual licensed under the MIT and GPL licenses (just like jQuery):
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 *
 *
 *
*/
(function(b){function m(b){return b.replace(/(:|\.)/g,"\\$1")}var n=function(c){var e=[],a=!1,f=c.dir&&"left"==c.dir?"scrollLeft":"scrollTop";this.each(function(){if(!(this==document||this==window)){var c=b(this);0<c[f]()?e.push(this):(c[f](1),a=0<c[f](),c[f](0),a&&e.push(this))}});"first"===c.el&&e.length&&(e=[e.shift()]);return e},o="ontouchend"in document;b.fn.extend({scrollable:function(b){return this.pushStack(n.call(this,{dir:b}))},firstScrollable:function(b){return this.pushStack(n.call(this, {el:"first",dir:b}))},smoothScroll:function(c){var c=c||{},e=b.extend({},b.fn.smoothScroll.defaults,c),a=b.smoothScroll.filterPath(location.pathname);this.die("click.smoothscroll").live("click.smoothscroll",function(c){var i={},h=b(this),d=location.hostname===this.hostname||!this.hostname,g=e.scrollTarget||(b.smoothScroll.filterPath(this.pathname)||a)===a,k=m(this.hash),j=!0;if(!e.scrollTarget&&(!d||!g||!k))j=!1;else{for(var d=e.exclude,g=0,l=d.length;j&&g<l;)h.is(m(d[g++]))&&(j=!1);d=e.excludeWithin; g=0;for(l=d.length;j&&g<l;)h.closest(d[g++]).length&&(j=!1)}j&&(c.preventDefault(),b.extend(i,e,{scrollTarget:e.scrollTarget||k,link:this}),b.smoothScroll(i))});return this}});b.smoothScroll=function(c,e){var a,f,i,h=0;f="offset";var d="scrollTop",g={},k=!1;i=[];"number"===typeof c?(a=b.fn.smoothScroll.defaults,i=c):(a=b.extend({},b.fn.smoothScroll.defaults,c||{}),a.scrollElement&&(f="position","static"==a.scrollElement.css("position")&&a.scrollElement.css("position","relative")),i=e||b(a.scrollTarget)[f]()&& b(a.scrollTarget)[f]()[a.direction]||0);a=b.extend({link:null},a);d="left"==a.direction?"scrollLeft":d;a.scrollElement?(f=a.scrollElement,h=f[d]()):(f=b("html, body").firstScrollable(),k=o&&"scrollTo"in window);g[d]=i+h+a.offset;a.beforeScroll.call(f,a);k?(i="left"==a.direction?[g[d],0]:[0,g[d]],window.scrollTo.apply(window,i),a.afterScroll.call(a.link,a)):("auto"===a.speed?(h=0===g[d]?b("html").scrollTop():g[d],h/=a.auto_coeff):h=a.speed,f.animate(g,{duration:h,easing:a.easing,complete:function(){a.afterScroll.call(a.link, a)}}))};b.smoothScroll.version="1.4.4";b.smoothScroll.filterPath=function(b){return b.replace(/^\//,"").replace(/(index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")};b.fn.smoothScroll.defaults={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,auto_coeff:2}})(jQuery);